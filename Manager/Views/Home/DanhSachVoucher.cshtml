@model List<Manager.Models.Voucher>

@{
    ViewBag.Title = "Danh sách Voucher";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet" />

<div class="container py-4">
    <h3 class="fw-bold mb-3">Danh sách Voucher</h3>

    <nav aria-label="breadcrumb" class="mb-3">
        <ol class="breadcrumb bg-info bg-opacity-25 px-3 py-2 rounded">
            <li class="breadcrumb-item"><a href="#">Trang chủ</a></li>
            <li class="breadcrumb-item active" aria-current="page">Voucher</li>
        </ol>
    </nav>

    <div class="d-flex flex-wrap align-items-center mb-3 gap-2">
        <a href="#" class="btn btn-success"><i class="bi bi-plus-circle"></i> Tạo mới</a>
        <input type="text" class="form-control w-auto" placeholder="Tìm kiếm..." />
        <button class="btn btn-primary"><i class="bi bi-search"></i></button>
        <button class="btn btn-dark">Đặt lại</button>
    </div>

    <div class="table-responsive">
        <table class="table table-bordered align-middle text-center">
            <thead class="table-light">
                <tr>
                    <th>Mã</th>
                    <th>Mã code</th>
                    <th>Tên</th>
                    <th>Giảm giá</th>
                    <th>Đơn tối thiểu</th>
                    <th>Số lượng</th>
                    <th>Đã dùng</th>
                    <th>Thời gian</th>
                    <th>Trạng thái</th>
                    <th>Thao tác</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var v in Model)
                {
                    <tr>
                        <td>@v.MaVoucher</td>
                        <td>@v.MaVoucherCode</td>
                        <td>@v.TenVoucher</td>
                        <td>
                            @(v.LoaiGiamGia == "TienMat"
        ? v.GiaTriGiamGia.ToString("N0") + "₫"
        : v.GiaTriGiamGia.ToString("N0") + "%")
                        </td>
                        <td>@(v.DonHangToiThieu.ToString("N0") + "₫")</td>

                        <td>@v.SoLuong</td>
                        <td>@v.SoLuongDaDung</td>
                        <td>
                            <div>@v.NgayBatDau.ToString("dd/MM/yyyy")</div>
                            <div>@v.NgayKetThuc.ToString("dd/MM/yyyy")</div>
                        </td>
                        <td>
                            @if (v.TrangThai == "HoatDong")
                            {
                                <span class="badge text-bg-success">Hoạt động</span>
                            }
                            else if (v.TrangThai == "TamKhoa")
                            {
                                <span class="badge text-bg-warning">Tạm khóa</span>
                            }
                            else
                            {
                                <span class="badge text-bg-secondary">Hết hạn</span>
                            }
                        </td>
                        <td>
                            <a href="#" class="btn btn-sm btn-info"><i class="bi bi-eye"></i></a>
                            <a href="#" class="btn btn-sm btn-warning"><i class="bi bi-pencil"></i></a>
                            <a href="#" class="btn btn-sm btn-danger"><i class="bi bi-trash"></i></a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>

    <nav>
        <ul class="pagination justify-content-center">
            <li class="page-item"><a class="page-link" href="#">Trang đầu</a></li>
            <li class="page-item"><a class="page-link" href="#">Trước</a></li>
            <li class="page-item active"><a class="page-link" href="#">1</a></li>
            <li class="page-item"><a class="page-link" href="#">2</a></li>
            <li class="page-item"><a class="page-link" href="#">3</a></li>
            <li class="page-item"><a class="page-link" href="#">Sau</a></li>
            <li class="page-item"><a class="page-link" href="#">Trang cuối</a></li>
        </ul>
    </nav>
</div>
